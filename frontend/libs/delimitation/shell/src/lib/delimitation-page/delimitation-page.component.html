<main>
    <gsm-geo-delimitation-map 
        [isAreaSelectMode]="isAreaSelectMode"
        [areaBoundary]="searchFormValue.areaBoundary"
        (areaBoundaryChange)="onAreaBoundaryChange($event)"
        [(selectedAreaBoundaryPointIndex)]="selectedAreaBoundaryPointIndex"
        [tracks]="tracks$ | async"
        [zones]="zones$ | async"
    ></gsm-geo-delimitation-map>

    <aside>
        <gsm-geo-delimitation-search-form
            [(value)]="searchFormValue"
            [(selectedPointIndex)]="selectedAreaBoundaryPointIndex"
            (isAreaSelectModeChange)="isAreaSelectMode = $event"
        ></gsm-geo-delimitation-search-form>

        <button mat-raised-button color="primary" (click)="submitSearch()">Поиск</button>
        <button mat-raised-button color="primary" (click)="runDelimitation()">Делимитация</button>
    </aside>
</main>